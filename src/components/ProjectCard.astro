---
// src/components/ProjectCard.astro
import { ArrowUpRight } from 'lucide-react';

interface Props {
  project: {
    id: string;
    title: string;
    description: string;
    tags: string[];
    imageUrl: string;
    category: string;
  };
}

const { project } = Astro.props;
---

<a 
  href={`/projects/${project.id}`}
  class="bg-surface/20 border border-white/5 rounded-2xl overflow-hidden flex flex-col group h-full cursor-pointer hover:border-white/10 transition-all duration-300"
>
  {/* Image Area */}
  <div class="h-[240px] w-full overflow-hidden relative border-b border-white/5">
    <div class="absolute inset-0 bg-background/20 group-hover:bg-transparent transition-colors duration-300 z-10"></div>
    <img 
      src={project.imageUrl} 
      alt={project.title} 
      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
    />
    <div class="absolute top-4 right-4 z-20 bg-background/80 backdrop-blur-sm text-text-body text-[10px] uppercase font-bold tracking-widest px-2 py-1 rounded border border-white/10">
      {project.category}
    </div>
    
    {/* View Project Overlay */}
    <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20 pointer-events-none">
         <div class="bg-white/10 backdrop-blur-md rounded-full p-4 border border-white/20">
             <ArrowUpRight className="text-white" size={24} />
         </div>
    </div>
  </div>

  {/* Content Area */}
  <div class="p-6 flex-1 flex flex-col bg-surface/30 group-hover:bg-surface/50 transition-colors">
    <h3 class="text-xl font-bold text-white mb-2 flex items-center gap-2">
        {project.title}
    </h3>
    <p class="text-text-body text-sm leading-relaxed mb-6 flex-1 line-clamp-2">
      {project.description}
    </p>
    
    <div class="flex flex-wrap gap-2 mb-6">
      {project.tags.slice(0, 3).map(tag => (
        <span class="text-xs font-medium text-text-muted bg-white/5 px-2 py-1 rounded border border-white/5">
          {tag}
        </span>
      ))}
      {project.tags.length > 3 && (
          <span class="text-xs font-medium text-text-muted bg-white/5 px-2 py-1 rounded border border-white/5">
            +{project.tags.length - 3}
          </span>
      )}
    </div>
    
    <div class="mt-auto pt-4 border-t border-white/5 flex items-center text-sm font-semibold text-primary">
        View Case Study <ArrowUpRight size={14} className="ml-1" />
    </div>
  </div>
</a>
